import{k as I,n as B}from"./chunk-4IRGEMRW.js";import{g as E,k}from"./chunk-VVADOMPM.js";import{Ca as d,Eb as g,Ib as R,Na as b,Sa as z,T as v,Wb as j,Y as o,ba as y,ca as S,db as O,ea as _,eb as x,ia as c,ib as p,j as l,jb as N,kb as h,lb as M,rb as m,sa as C,sb as T,ub as P,wb as r,xb as w,yb as D,z as u}from"./chunk-UYPXCP55.js";var F=(()=>{let t=class t{constructor(){this._displaySize=void 0,this.displaySizeChange=new l,this._displayState="close",this.displayStateChange=new l,this.smallThreshold=600,this.numNavsRegistered=0,this.numNavsOpen=0;let e=o(C),n=o(_).querySelector("body");if(!n)throw new Error("Nav Service Body not found");k(e)&&(this._displaySize=this.getSize(n.offsetWidth),new ResizeObserver(V=>{this.onResize(V[0].borderBoxSize[0].inlineSize)}).observe(n)),o(B).events.pipe(u(f=>f instanceof I)).subscribe(()=>this.displayState="close")}get displaySize(){return this._displaySize}set displaySize(e){e!=this._displaySize&&(this._displaySize=e,this.displaySizeChange.next(e))}get displayState(){return this._displayState}set displayState(e){e!=this._displayState&&(this._displayState=e,this.displayStateChange.next(e),this.numNavsOpen=e==="close"?0:this.numNavsOpen)}register(){this.numNavsRegistered++}unregister(){this.numNavsRegistered--}onResize(e){this.displaySize=this.getSize(e)}getSize(e){return e<this.smallThreshold?"small":"large"}toggleDisplayState(){this.displayState=this.displayState==="open"?"close":"open",this.displayState==="open"&&(this.numNavsOpen=this.numNavsRegistered)}onShowToggle(){if(this._displaySize==="large")throw new Error("Request on large");this.toggleDisplayState()}onNavigationDone(){this._displayState!=="close"&&(this.toggleDisplayState(),this.displayStateChange.next("close"))}onNavClose(){--this.numNavsOpen==0&&(this._displayState="close")}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Y=["*"];function A(i,t){i&1&&D(0)}function L(i,t){if(i&1){let a=T();N(0,"div",3)(1,"div",4),P("click",function(){y(a);let s=r();return S(s.onClose())}),M(2,"div")(3,"div"),h(),m(4,2),h()}if(i&2){let a=r(),e=g(1);R(a.display()),d(4),p("ngTemplateOutlet",e)}}function U(i,t){if(i&1&&m(0,2),i&2){r();let a=g(1);p("ngTemplateOutlet",a)}}var ie=(()=>{let t=class t{constructor(){this.nav=o(F),this.nav.register(),this.size=c(this.nav.displaySize),this.sizeSub=this.nav.displaySizeChange.subscribe(e=>this.size.set(e)),this.display=c("close"),this.displaySub=this.nav.displayStateChange.subscribe(e=>this.display.set(e))}ngOnDestroy(){this.displaySub.unsubscribe(),this.sizeSub.unsubscribe(),this.nav.unregister()}onClose(){this.display.set("close"),this.nav.onNavClose()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=b({type:t,selectors:[["app-nav"]],ngContentSelectors:Y,decls:4,vars:1,consts:[["content",""],[1,"media-small",3,"class"],[3,"ngTemplateOutlet"],[1,"media-small"],[1,"cross",3,"click"]],template:function(s,n){s&1&&(w(),z(0,A,1,0,"ng-template",null,0,j),O(2,L,5,3,"div",1)(3,U,1,1,"ng-container",2)),s&2&&(d(2),x(n.size()==="small"?2:n.size()==="large"?3:-1))},dependencies:[E],styles:[".media-small[_ngcontent-%COMP%]{position:fixed;top:3rem;left:0;padding:0 var(--space-sm);background:#fff;height:100vh;border-right:1px solid rgb(241.7553,242.60496,243.2547);z-index:1}.cross[_ngcontent-%COMP%]{margin:var(--space-2xs) 0;aspect-ratio:1;width:var(--font-md)}.cross[_ngcontent-%COMP%]:hover{cursor:pointer}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#000;height:1px;width:var(--font-md)}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){transform:translateY(calc(var(--font-md) * .5)) rotate(-45deg)}.cross[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:translateY(calc(var(--font-md) * .5 - 1px)) rotate(45deg)}.open[_ngcontent-%COMP%]{transition:transform .4s ease-in;transform:translate(0)}.close[_ngcontent-%COMP%]{transform:translate(-100%);padding:0;overflow:hidden;transition:transform .3s ease-out}"]});let i=t;return i})();export{F as a,ie as b};
